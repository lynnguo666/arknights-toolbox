(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app.material"],{"072a":function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));a("07ac");var i=a("5530"),s=a("60bb"),n=a.n(s),r=a("6a80"),o=n.a.mapValues(r,(function(t,e){return Object(i["a"])({name:e},t)}));Object.values(o);e["b"]={characterTable:o,characterList:Object.values(o)}},"18a8":function(t,e,a){},"3d2f":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"arkn-material"}},[a("div",{staticClass:"mdui-row"},[a("div",{class:{"mdui-col-lg-6":t.$root.localeCN,"mdui-col-xs-12":t.$root.localeNotCN}},[a("table",{staticClass:"mdui-table tag-table"},[a("tbody",[a("tr",[t.$root.smallScreen?t._e():a("td",{attrs:{width:"1"}},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.tagBtnHead,expression:"$root.color.tagBtnHead"}],staticClass:"mdui-btn mdui-btn-dense no-pe tag-btn tag-table-header"},[t._v(t._s(t.$t("cultivate.panel.rarity")))])]),a("td",{staticClass:"mobile-screen-flex-box tag-btn-wrap"},[t.$root.smallScreen?a("label",{staticClass:"mdui-textfield-label flex-full"},[t._v(t._s(t.$t("cultivate.panel.rarity")))]):t._e(),a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.allRare?t.color.selected:t.color.notSelected,expression:"allRare ? color.selected : color.notSelected"}],staticClass:"mdui-btn mdui-btn-dense mdui-ripple tag-btn",on:{click:function(e){t.selected.rare=t.l.fill(Array(t.selected.rare.length),!t.allRare)}}},[t._v(t._s(t.$t("common.selectAll")))]),t._l(t.rareArr,(function(e){return a("tag-button",{key:"rare-"+e,staticClass:"num-btn",attrs:{notSelectedColor:t.color.notSelected,selectedColor:t.color[e]},model:{value:t.selected.rare[e-1],callback:function(a){t.$set(t.selected.rare,e-1,a)},expression:"selected.rare[i - 1]"}},[t._v(t._s(e))])})),a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.redBtn,expression:"$root.color.redBtn"}],staticClass:"mdui-btn mdui-btn-dense mdui-color-red tag-btn",on:{click:t.resetSelectedRare}},[t._v(t._s(t.$t("common.reset")))])],2)]),a("tr",[t.$root.smallScreen?t._e():a("td",{attrs:{width:"1"}},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.tagBtnHead,expression:"$root.color.tagBtnHead"}],staticClass:"mdui-btn mdui-btn-dense no-pe tag-btn tag-table-header"},[t._v(t._s(t.$t("common.preset")))])]),a("td",[t.$root.smallScreen?a("label",{staticClass:"mdui-textfield-label"},[t._v(t._s(t.$t("common.preset")))]):t._e(),a("vue-tags-input",{ref:"presetInput",staticClass:"tags-input",class:{empty:0===t.preset.length},attrs:{id:"preset",tags:t.selected.presets,"allow-edit-tags":!1,"add-from-paste":!1,"add-on-blur":!1,"autocomplete-items":t.presetItems,"add-only-from-autocomplete":!0,"autocomplete-always-open":!0,placeholder:t.$t("cultivate.panel.preset.placeholder"),autocomplete:"off"},on:{"tags-changed":t.usePreset,"before-adding-tag":function(e){return t.showPreset(e)}},scopedSlots:t._u([{key:"autocomplete-item",fn:function(e){return a("div",{staticClass:"mdui-list-item mdui-p-y-0 mdui-p-x-1",on:{click:function(t){return e.performAdd(e.item)}}},[a("div",{staticClass:"mdui-list-item-avatar"},[a("img",{key:"head-"+e.item.text,staticClass:"no-pe",attrs:{src:t.$root.avatar(e.item.name),crossorigin:"anonymous"}})]),a("div",{staticClass:"mdui-list-item-content mdui-p-y-0 mdui-m-l-1"},[t._v(t._s(e.item.text))])])}},{key:"tag-center",fn:function(e){return a("span",{staticClass:"no-sl",on:{click:function(a){return t.showPreset(e,!0)}}},[t._v(t._s(e.tag.text))])}}]),model:{value:t.preset,callback:function(e){t.preset=e},expression:"preset"}})],1)]),a("tr",[t.$root.smallScreen?t._e():a("td",{attrs:{width:"1"}},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.tagBtnHead,expression:"$root.color.tagBtnHead"}],staticClass:"mdui-btn mdui-btn-dense no-pe tag-btn tag-table-header"},[t._v(t._s(t.$t("common.todo")))])]),a("td",[t.$root.smallScreen?a("label",{staticClass:"mdui-textfield-label"},[t._v(t._s(t.$t("common.todo")))]):t._e(),t.selected.presets.length?t._e():a("span",{staticClass:"mdui-text-color-theme-secondary mdui-p-x-1 font-size-14 no-sl"},[t._v(t._s(t.$t("common.none")))]),t._l(t.selected.presets,(function(e,i){return a("div",{key:e.name,staticClass:"mdui-chip no-box-shadow mdui-m-r-1",on:{click:function(a){return t.showTodoPreset({tag:e,index:i})}}},[a("img",{staticClass:"mdui-chip-icon",attrs:{src:t.$root.avatar(e.name),crossorigin:"anonymous"}}),a("span",{staticClass:"mdui-chip-title"},[t._v(t._s(e.text))])])}))],2)]),a("tr",[t.$root.smallScreen?t._e():a("td",{attrs:{width:"1"}},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.tagBtnHead,expression:"$root.color.tagBtnHead"}],staticClass:"mdui-btn mdui-btn-dense no-pe tag-btn tag-table-header"},[t._v(t._s(t.$t("common.setting")))])]),a("td",t._l(t.settingList[0],(function(e){return a("mdui-switch",{key:e,model:{value:t.setting[e],callback:function(a){t.$set(t.setting,e,a)},expression:"setting[key]"}},[t._v(t._s(t.$t("cultivate.setting."+e)))])})),1)]),a("tr",[t.$root.smallScreen?t._e():a("td",{attrs:{width:"1"}},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.tagBtnHead,expression:"$root.color.tagBtnHead"}],staticClass:"mdui-btn mdui-btn-dense no-pe tag-btn tag-table-header"},[t._v(t._s(t.$t("common.option")))])]),a("td",{staticClass:"mobile-screen-flex-box tag-btn-wrap"},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.redBtn,expression:"$root.color.redBtn"}],staticClass:"mdui-btn mdui-ripple mdui-btn-dense tag-btn",on:{click:function(e){return t.reset()}}},[t._v(t._s(t.$t("cultivate.panel.button.resetAll")))]),a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.redBtn,expression:"$root.color.redBtn"}],staticClass:"mdui-btn mdui-ripple mdui-btn-dense tag-btn",on:{click:function(e){return t.reset("need")}}},[t._v(t._s(t.$t("cultivate.panel.button.resetNeed")))]),a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.redBtn,expression:"$root.color.redBtn"}],staticClass:"mdui-btn mdui-ripple mdui-btn-dense tag-btn",on:{click:function(e){return t.reset("have")}}},[t._v(t._s(t.$t("cultivate.panel.button.resetHave")))]),a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-color-blue-600","mdui-color-blue-a100 mdui-ripple-black"],expression:"['mdui-color-blue-600', 'mdui-color-blue-a100 mdui-ripple-black']"}],staticClass:"mdui-btn mdui-ripple mdui-btn-dense tag-btn",on:{click:function(e){return t.dataSyncDialog.open()}}},[a("i",{staticClass:"mdui-icon material-icons"},[t._v("cloud")]),t._v(" "+t._s(t.$t("cultivate.panel.button.cloudSync")))]),a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-color-pink","mdui-color-pink-a100 mdui-ripple-black"],expression:"['mdui-color-pink', 'mdui-color-pink-a100 mdui-ripple-black']"}],staticClass:"mdui-btn mdui-ripple mdui-btn-dense tag-btn",on:{click:t.resetPenguinData}},[t._v(t._s(t.$t("cultivate.panel.button.forceUpdate")))])])]),a("tr",[t.$root.smallScreen?t._e():a("td",{attrs:{width:"1"}},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.tagBtnHead,expression:"$root.color.tagBtnHead"}],staticClass:"mdui-btn mdui-btn-dense no-pe tag-btn tag-table-header"},[t._v(t._s(t.$t("common.calculation")))])]),a("td",[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-color-purple","mdui-color-purple-a100 mdui-ripple-black"],expression:"['mdui-color-purple', 'mdui-color-purple-a100 mdui-ripple-black']"}],staticClass:"mdui-btn mdui-ripple mdui-btn-dense tag-btn mdui-m-r-2",attrs:{id:"ark-planner-btn",disabled:t.apbDisabled},on:{click:function(e){t.apbDisabled=!0,t.initPlanner().then((function(){t.showPlan(),t.apbDisabled=!1}))}}},[t._v(t._s(t.$t("cultivate.panel.button.farmCalculation")))]),t._l(t.settingList[1],(function(e){return a("mdui-switch",{key:e,model:{value:t.setting[e],callback:function(a){t.$set(t.setting,e,a)},expression:"setting[key]"}},[t._v(t._s(t.$t("cultivate.setting."+e)))])})),t.$root.localeCN?a("mdui-switch",{model:{value:t.setting.planIncludeEvent,callback:function(e){t.$set(t.setting,"planIncludeEvent",e)},expression:"setting.planIncludeEvent"}},[t._v(t._s(t.$t("cultivate.setting.planIncludeEvent")))]):t._e()],2)])])])]),a("div",{class:{"mdui-col-lg-6":t.$root.localeCN,"mdui-col-xs-12":t.$root.localeNotCN}},[t.$root.localeCN?a("material-readme",{staticClass:"mdui-hidden-md-down"}):t._e(),a("div",{staticClass:"mdui-panel mdui-panel-gapless mdui-m-t-2",class:{"mdui-hidden-lg-up":t.$root.localeCN},attrs:{"mdui-panel":""}},[a("div",{staticClass:"mdui-panel-item"},[a("div",{staticClass:"mdui-panel-item-header"},[a("div",{staticClass:"mdui-panel-item-title"},[t._v(t._s(t.$t("common.guide")))]),a("i",{staticClass:"mdui-panel-item-arrow mdui-icon material-icons"},[t._v("keyboard_arrow_down")])]),a("div",{staticClass:"mdui-panel-item-body mdui-p-l-0"},[a("material-readme")],1)])])],1)]),a("div",{staticClass:"mdui-row",class:{rendering:t.$root.materialListRendering},attrs:{id:"material-main"}},[t.setting.simpleMode?a("div",{staticClass:"mdui-col-xs-12 mdui-m-t-4",attrs:{id:"material-simple"}},[a("transition-group",{staticClass:"material-group-wrap",attrs:{tag:"div",name:"material-group-wrap-transition"},on:{"before-leave":t.transitionBeforeLeave,"after-leave":t.transitionAfterLeaveBeforeEnter}},[t._l(t.materialOrder,(function(e){return a("div",{directives:[{name:"show",rawName:"v-show",value:t.showMaterialsFlatten.has(e)&&t.$root.isImplementedMaterial(e),expression:"showMaterialsFlatten.has(materialName) && $root.isImplementedMaterial(materialName)"}],key:e+"-simple",staticClass:"material-simple-grid mdui-m-b-2 mdui-m-r-2"},[a("div",{staticClass:"mdui-card material material-simple",class:{"opacity-5":t.setting.translucentDisplay&&t.hasInput&&0==t.gaps[e][0]}},[a("div",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.color[t.materialTable[e].rare],expression:"color[materialTable[materialName].rare]"}],staticClass:"card-triangle-small"}),a("div",{staticClass:"mdui-card-header",attrs:{name:e}},[a("div",{staticClass:"mdui-card-header-avatar mdui-valign pointer no-sl",on:{click:function(a){return t.showDropDetail(t.materialTable[e])}}},[a("arkn-item-t",{attrs:{t:t.materialTable[e].rare}}),a("img",{staticClass:"material-image no-pe",attrs:{src:t.$root.materialImage(t.materialTable[e].name),crossorigin:"anonymous"}}),a("div",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.inputs[e].need>0?t.$root.color.pinkText:[],expression:"inputs[materialName].need > 0 ? $root.color.pinkText : []"}],staticClass:"material-simple-name mdui-text-truncate"},[t._v(t._s(t.$t("material."+e)))])],1),a("div",{staticClass:"input-panel"},[a("mdui-number-input",{staticClass:"block mdui-m-b-1",attrs:{placeholder:t.$t("common.need")},model:{value:t.inputs[e].need,callback:function(a){t.$set(t.inputs[e],"need",a)},expression:"inputs[materialName].need"}}),a("mdui-number-input",{staticClass:"block mdui-m-b-1",attrs:{placeholder:t.$t("common.have")},model:{value:t.inputs[e].have,callback:function(a){t.$set(t.inputs[e],"have",a)},expression:"inputs[materialName].have"}}),a("div",{staticClass:"gap block"},[a("span",{staticClass:"gap-num no-sl"},[t._v(t._s(t.gaps[e][0])),t.gaps[e][1]>0?a("small",[t._v("("+t._s(t.gaps[e][1])+")")]):t._e()])])],1)])])])})),t._l(6,(function(t){return a("div",{key:t,staticClass:"material-simple-grid mdui-m-r-2"})}))],2)],1):a("transition-group",{attrs:{id:"material-normal",tag:"div",name:"material-group-wrap-transition"},on:{"before-leave":t.transitionBeforeLeave,"after-leave":t.transitionAfterLeaveBeforeEnter,"before-enter":t.transitionAfterLeaveBeforeEnter}},t._l(t.rareArr,(function(e){return a("div",{directives:[{name:"show",rawName:"v-show",value:t.showMaterials[e].size>0,expression:"showMaterials[i].size > 0"}],key:"materials-"+e,staticClass:"mdui-col-xs-12"},[a("div",{staticClass:"mdui-typo rare-title"},[a("h2",[t._v(t._s(t.$t("common.rarity"))+" "+t._s(e)),t.moraleConsumption[e]?a("small",{staticClass:"mdui-m-l-2"},[t._v(t._s(t.$t("common.morale"))+" "+t._s(t.moraleText(t.moraleConsumption[e])))]):t._e()])]),a("transition-group",{staticClass:"material-group-wrap",attrs:{tag:"div",name:"material-group-wrap-transition"},on:{"before-leave":t.transitionBeforeLeave,"after-leave":t.transitionAfterLeaveBeforeEnter,"before-enter":t.transitionAfterLeaveBeforeEnter}},[t._l(t.materials[e],(function(i){return a("div",{directives:[{name:"show",rawName:"v-show",value:t.showMaterials[e].has(i.name)&&t.$root.isImplementedMaterial(i.name),expression:"showMaterials[i].has(material.name) && $root.isImplementedMaterial(material.name)"}],key:i.name,staticClass:"mdui-card material",class:{"mdui-p-b-2":t.$root.smallScreen,"mdui-m-b-2 mdui-m-r-2":!t.$root.smallScreen,"opacity-5":t.setting.translucentDisplay&&t.hasInput&&0==t.gaps[i.name][0]}},[a("div",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.color[e],expression:"color[i]"}],staticClass:"card-triangle"}),a("div",{staticClass:"mdui-card-header",attrs:{name:i.name,"mdui-tooltip":!t.$root.smallScreen&&"{content:'"+t.madeofTooltips[i.name]+"',position:'top'}"}},[a("div",{staticClass:"mdui-card-header-avatar mdui-valign pointer no-sl",on:{click:function(e){return t.showDropDetail(t.materialTable[i.name])}}},[a("arkn-item-t",{attrs:{t:e}}),a("img",{staticClass:"material-image no-pe",attrs:{src:t.$root.materialImage(i.name),crossorigin:"anonymous"}})],1),a("div",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.inputs[i.name].need>0?t.$root.color.pinkText:[],expression:"inputs[material.name].need > 0 ? $root.color.pinkText : []"}],staticClass:"mdui-card-header-title no-sl"},[a("div",{staticClass:"material-name-wrap mdui-valign"},[a("div",{staticClass:"mdui-text-truncate material-name"},[t._v(t._s(t.$t("material."+i.name)))]),t.showSyntBtn(i)?a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.pinkText,expression:"$root.color.pinkText"}],staticClass:"synt-btn mdui-btn mdui-ripple mdui-btn-dense small-btn mdui-p-x-1 mdui-m-l-05",on:{click:function(e){return t.synthesize(i.name,1)}}},[t._v(t._s(t.$t("common.synthesize"))+" 1")]):t._e(),t.showSyntBtn(i)?a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.pinkText,expression:"$root.color.pinkText"}],staticClass:"synt-btn mdui-btn mdui-ripple mdui-btn-dense small-btn mdui-p-x-1 mdui-m-l-05",on:{click:function(e){return t.synthesize(i.name)}}},[t._v(t._s(t.$t("common.synthesize"))+" all")]):t._e()]),t.$root.smallScreen?a("p",{staticClass:"mdui-m-y-0 mdui-text-color-theme-disabled mdui-text-truncate",staticStyle:{"font-size":"12px","font-weight":"400"}},[t._v(t._s(t.madeofTooltips[i.name]))]):t._e()]),a("div",{staticClass:"input-panel",class:{"mdui-m-t-1":!t.$root.smallScreen}},[a("mdui-number-input",{staticClass:"mdui-m-r-1",model:{value:t.inputs[i.name].need,callback:function(e){t.$set(t.inputs[i.name],"need",e)},expression:"inputs[material.name].need"}},[t._v(t._s(t.$t("common.need")))]),a("mdui-number-input",{staticClass:"mdui-m-r-1",model:{value:t.inputs[i.name].have,callback:function(e){t.$set(t.inputs[i.name],"have",e)},expression:"inputs[material.name].have"}},[t._v(t._s(t.$t("common.have")))]),a("div",{staticClass:"gap"},[a("label",{staticClass:"mdui-textfield-label no-sl"},[t._v(t._s(t.$t("common.lack")))]),a("span",{staticClass:"gap-num no-sl"},[t._v(t._s(t.gaps[i.name][0])),t.gaps[i.name][1]>0?a("small",[t._v("("+t._s(t.gaps[i.name][1])+")")]):t._e()])]),t.l.size(t.displayDropListByServer[i.name])>0?a("ul",{staticClass:"drop-list no-sl pointer",attrs:{length:t.l.size(t.displayDropListByServer[i.name])},on:{click:function(e){return t.showDropDetail(i)},wheel:function(e){return e.preventDefault(),t.onDropListScroll(e)}}},t._l(t.displayDropListByServer[i.name],(function(e,s){var n=e.occPer,r=e.expectAP;return a("li",{key:i.name+"-"+s,staticClass:"drop-item"},[a("span",{staticClass:"code"},[t._v(t._s("synt"===s?t.$t("common.synthesize"):s))]),t.setting.showDropProbability&&t.plannerInited?a("span",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.color[t.enumOccPer[n]],expression:"color[enumOccPer[occPer]]"}],staticClass:"probability"},[t._v(t._s(r?1e3>r?r.toPrecision(3):r.toFixed():"N/A")+"⚡")]):a("span",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.color[t.enumOccPer[n]],expression:"color[enumOccPer[occPer]]"}],staticClass:"probability"},[t._v(t._s(t.$t("cultivate.occPer."+t.enumOccPer[n])))])])})),0):t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:t.$root.smallScreen&&t.l.size(t.displayDropListByServer[i.name])>2,expression:"$root.smallScreen && l.size(displayDropListByServer[material.name]) > 2"}],staticClass:"drop-list-more"},[t._v(">")])],1)])])})),t._l(2,(function(e){return a("div",{key:e,staticClass:"material",class:{"mdui-m-r-2":!t.$root.smallScreen}})}))],2)],1)})),0)],1),a("div",{staticClass:"mdui-dialog mdui-card",attrs:{id:"preset-setting"}},[t.sp?[a("div",{staticClass:"mdui-card-header mdui-p-b-0"},[a("img",{staticClass:"mdui-card-header-avatar mdui-color-grey-400 no-pe",attrs:{src:!!t.selectedPresetName&&t.$root.avatar(t.selectedPresetName),crossorigin:"anonymous"}}),a("div",{staticClass:"mdui-card-header-title"},[t._v(t._s(t.$t("character."+t.selectedPresetName)))])]),a("div",{staticClass:"mdui-card-content preset-list mdui-p-x-3"},[a("div",{staticClass:"elite-cb-list"},t._l(t.sp.evolve,(function(e,i){return a("mdui-checkbox",{key:"elite-"+(i+1),model:{value:t.pSetting.evolve[i],callback:function(e){t.$set(t.pSetting.evolve,i,e)},expression:"pSetting.evolve[i]"}},[t._v(t._s(t.$t("common.promotion"))+t._s(i+1))])})),1),t.sp.skills.normal.length>=2?a("div",{staticClass:"skill-normal"},[a("mdui-checkbox",{staticClass:"skill-cb",model:{value:t.pSetting.skills.normal[0],callback:function(e){t.$set(t.pSetting.skills.normal,0,e)},expression:"pSetting.skills.normal[0]"}},[t._v(t._s(t.$t("common.skill")))]),a("div",{staticClass:"inline-block"},[a("mdui-select-num",{attrs:{options:t.l.range(1,t.sp.skills.normal.length+1)},on:{change:function(e){t.$mutationNextTick(),t.pSetting.skills.normal[0]=!0,t.pSetting.skills.normal[1]>=t.pSetting.skills.normal[2]&&(t.pSetting.skills.normal[2]=t.pSetting.skills.normal[1]+1)}},model:{value:t.pSetting.skills.normal[1],callback:function(e){t.$set(t.pSetting.skills.normal,1,e)},expression:"pSetting.skills.normal[1]"}}),a("i",{staticClass:"mdui-icon material-icons mdui-m-x-2"},[t._v("arrow_forward")]),a("span",{key:"sn-s-"+(t.pSetting.skills.normal[1]+1)},[a("mdui-select-num",{attrs:{options:t.l.range(t.pSetting.skills.normal[1]+1,t.sp.skills.normal.length+2)},on:{change:function(e){t.pSetting.skills.normal[0]=!0}},model:{value:t.pSetting.skills.normal[2],callback:function(e){t.$set(t.pSetting.skills.normal,2,e)},expression:"pSetting.skills.normal[2]"}})],1)],1)],1):t._e(),t.sp.skills.elite.length>0?t._l(t.sp.skills.elite,(function(e,i){return a("div",{key:"se-"+e.name,staticClass:"skill-elite"},[a("mdui-checkbox",{staticClass:"skill-cb",model:{value:t.pSetting.skills.elite[i][0],callback:function(e){t.$set(t.pSetting.skills.elite[i],0,e)},expression:"pSetting.skills.elite[i][0]"}},[t._v(t._s(t.$t("skill."+e.name)))]),a("div",{staticClass:"inline-block"},[a("mdui-select-num",{attrs:{options:t.l.range(t.sp.skills.normal.length+1,t.sp.skills.normal.length+e.cost.length+1)},on:{change:function(e){t.$mutationNextTick(),t.pSetting.skills.elite[i][0]=!0,t.pSetting.skills.elite[i][1]>=t.pSetting.skills.elite[i][2]&&(t.pSetting.skills.elite[i][2]=t.pSetting.skills.elite[i][1]+1)}},model:{value:t.pSetting.skills.elite[i][1],callback:function(e){t.$set(t.pSetting.skills.elite[i],1,e)},expression:"pSetting.skills.elite[i][1]"}}),a("i",{staticClass:"mdui-icon material-icons mdui-m-x-2"},[t._v("arrow_forward")]),a("span",{key:"se-s-"+(t.pSetting.skills.elite[i][1]+1)},[a("mdui-select-num",{attrs:{options:t.l.range(t.pSetting.skills.elite[i][1]+1,t.sp.skills.normal.length+e.cost.length+2)},on:{change:function(e){t.pSetting.skills.elite[i][0]=!0}},model:{value:t.pSetting.skills.elite[i][2],callback:function(e){t.$set(t.pSetting.skills.elite[i],2,e)},expression:"pSetting.skills.elite[i][2]"}})],1)],1)],1)})):t._e()],2)]:t._e(),a("div",{staticClass:"mdui-dialog-actions"},[t.sp?a("a",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.dialogTransparentBtn,expression:"$root.color.dialogTransparentBtn"}],staticClass:"mdui-btn mdui-ripple",staticStyle:{float:"left"},attrs:{href:t.$root.getWikiHref(Object.assign({},{name:t.selectedPresetName},t.characterTable[t.selectedPresetName])),target:"_blank"}},[t._v(t._s(t.$t("common.viewOnWiki")))]):t._e(),a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.dialogTransparentBtn,expression:"$root.color.dialogTransparentBtn"}],staticClass:"mdui-btn mdui-ripple",attrs:{"mdui-dialog-cancel":""}},[t._v(t._s(t.$t("common.cancel")))]),"add"==this.pSetting.state?a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-color-pink","mdui-color-indigo-a100 mdui-ripple-black"],expression:"['mdui-color-pink', 'mdui-color-indigo-a100 mdui-ripple-black']"}],staticClass:"mdui-btn mdui-ripple",attrs:{"mdui-dialog-confirm":""},on:{click:t.addPreset}},[t._v(t._s(t.$t("common.add")))]):t._e(),"edit"==this.pSetting.state?a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-color-teal","mdui-color-teal-200 mdui-ripple-black"],expression:"['mdui-color-teal', 'mdui-color-teal-200 mdui-ripple-black']"}],staticClass:"mdui-btn mdui-ripple",attrs:{"mdui-dialog-confirm":""},on:{click:t.editPreset}},[t._v(t._s(t.$t("common.edit")))]):t._e()])],2),a("div",{staticClass:"mdui-dialog mdui-typo",attrs:{id:"planner"}},[t.plannerRequest&&t.plan?[a("div",{staticClass:"mdui-dialog-title"},[t._v(" "+t._s(t.$t("cultivate.planner.title"))+" "),a("p",{staticClass:"mdui-m-b-0 mdui-m-t-2",staticStyle:{"font-size":"15px"}},[t._v(" "+t._s(t.$t("cultivate.planner.expectedAP"))),a("code",[t._v(t._s(t.plan.cost))]),a("br"),a("span",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-text-color-blue-900","mdui-text-color-blue-200"],expression:"['mdui-text-color-blue-900', 'mdui-text-color-blue-200']"}]},[t._v(t._s(t.$t("common.mission")))]),t._v(" × "),a("span",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.pinkText,expression:"$root.color.pinkText"}]},[t._v(t._s(t.$t("common.times")))]),t._v(" ("),a("span",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-text-color-yellow-900","mdui-text-color-yellow-300"],expression:"['mdui-text-color-yellow-900', 'mdui-text-color-yellow-300']"}]},[t._v(t._s(t.$t("item.AP_GAMEPLAY")))]),t._v(") "),a("span",{staticClass:"mdui-text-color-theme mdui-btn-bold"},[t._v(t._s(t.$t("cultivate.planner.targetMaterial")))]),t._v(" "),a("span",{staticClass:"mdui-text-color-theme-secondary"},[t._v(t._s(t.$t("cultivate.planner.otherMaterial")))])])]),a("div",{staticClass:"mdui-dialog-content"},[t._l(t.plan.stages,(function(e){return a("div",{key:e.code,staticClass:"stage"},[a("h5",{staticClass:"h-ul"},[a("span",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-text-color-blue-900","mdui-text-color-blue-200"],expression:"['mdui-text-color-blue-900', 'mdui-text-color-blue-200']"}]},[t._v(t._s(e.code))]),t._v(" × "),a("span",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.pinkText,expression:"$root.color.pinkText"}]},[t._v(t._s(e.times))]),t._v(" ("),a("span",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-text-color-yellow-900","mdui-text-color-yellow-200"],expression:"['mdui-text-color-yellow-900', 'mdui-text-color-yellow-200']"}]},[t._v(t._s(e.cost))]),t._v(") ")]),a("div",{staticClass:"num-item-list"},[t._l(e.drops,(function(i){return a("arkn-num-item",{directives:[{name:"show",rawName:"v-show",value:t.$root.isImplementedMaterial(i.name),expression:"$root.isImplementedMaterial(drop.name)"}],key:e.code+"-"+i.name,attrs:{t:t.materialTable[i.name].rare,img:i.name,lable:t.$t("material."+i.name),num:i.num,color:t.gaps[i.name][0]>0?"mdui-text-color-theme mdui-btn-bold":"mdui-text-color-theme-secondary"}})})),a("arkn-num-item",{attrs:{t:"4",img:"4001",lable:t.$t("item.4001"),num:t.num10k(e.money),color:"mdui-text-color-theme-secondary"}}),e.cardExp>0?a("arkn-num-item",{attrs:{t:"2",img:"2001",lable:t.$t("common.exp"),num:t.num10k(e.cardExp),color:"mdui-text-color-theme-secondary"}}):t._e()],2)])})),t.plan.synthesis.length>0?a("div",{staticClass:"stage"},[a("h5",{staticClass:"h-ul"},[t._v(t._s(t.$t("cultivate.planner.needToBeSynthesized")))]),a("div",{staticClass:"num-item-list"},[t._l(t.plan.synthesis,(function(e){return a("arkn-num-item",{key:"合成-"+e.name,attrs:{t:t.materialTable[e.name].rare,img:e.name,lable:t.$t("material."+e.name),num:e.num}})})),a("arkn-num-item",{attrs:{t:"4",img:"4001",lable:t.$t("cultivate.planner.moneyUsed"),num:t.num10k(t.plan.synthesisCost)}})],2)]):t._e(),a("div",{staticClass:"stage"},[a("h5",{staticClass:"h-ul"},[t._v(t._s(t.$t("cultivate.planner.obtain")))]),a("div",{staticClass:"num-item-list"},[a("arkn-num-item",{attrs:{t:"4",img:"4001",lable:t.$t("item.4001"),num:t.num10k(t.plan.money)}}),t.plan.cardExp>0?a("arkn-num-item",{attrs:{t:"2",img:"2001",lable:t.$t("common.exp"),num:t.num10k(t.plan.cardExp)}}):t._e()],1)])],2)]:t._e(),a("div",{staticClass:"mdui-dialog-actions"},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.dialogTransparentBtn,expression:"$root.color.dialogTransparentBtn"}],staticClass:"mdui-btn mdui-ripple",attrs:{"mdui-dialog-cancel":""}},[t._v(t._s(t.$t("common.close")))])])],2),a("div",{staticClass:"mdui-dialog mdui-typo",attrs:{id:"drop-detail"}},[t.dropDetails?[a("div",{staticClass:"mdui-dialog-title mdui-p-b-1"},[t._v(" "+t._s(t.$t("material."+t.dropFocus))+" "),a("small",{staticClass:"mdui-p-l-1 mdui-text-color-theme-secondary"},[t._v(t._s(t.inputs[t.dropFocus].need||0)+" | "+t._s(t.inputs[t.dropFocus].have||0)+" | "),a("span",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.pinkText,expression:"$root.color.pinkText"}]},[t._v(t._s(t.gaps[t.dropFocus][0]||0)),t.gaps[t.dropFocus][1]>0?a("small",[t._v(" ("+t._s(t.gaps[t.dropFocus][1])+")")]):t._e()])]),a("span",{staticClass:"mdui-p-l-1"},[t.showSyntBtn(t.materialTable[t.dropFocus])?a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.pinkText,expression:"$root.color.pinkText"}],staticClass:"synt-btn mdui-btn mdui-ripple mdui-btn-dense small-btn mdui-p-x-1 mdui-m-l-05",on:{click:function(e){return t.synthesize(t.dropFocus,1)}}},[t._v(t._s(t.$t("common.synthesize"))+" 1")]):t._e(),t.showSyntBtn(t.materialTable[t.dropFocus])?a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.pinkText,expression:"$root.color.pinkText"}],staticClass:"synt-btn mdui-btn mdui-ripple mdui-btn-dense small-btn mdui-p-x-1 mdui-m-l-05",on:{click:function(e){return t.synthesize(t.dropFocus)}}},[t._v(t._s(t.$t("common.synthesize"))+" all")]):t._e()]),a("div",{staticClass:"mdui-text-color-theme-secondary text-10px"},[t._v(t._s(t.madeofTooltips[t.dropFocus]))]),t.materialsCharMap[t.dropFocus]&&t.materialsCharMap[t.dropFocus].length>0?a("div",{staticClass:"mdui-text-color-theme-secondary text-10px"},[t._v(t._s(t.$t("cultivate.dropDetail.relatedOperators"))+"："),t._l(t.materialsCharMap[t.dropFocus],(function(e){return a("span",{key:"mater_"+e,staticClass:"mdui-m-r-1"},[t._v(t._s(t.$t("character."+e)))])}))],2):t._e(),t.dropDetails.length>0?a("p",{staticClass:"mdui-m-b-0 mdui-m-t-1 text-16px"},[t._v(t._s(t.$t("common.mission"))+" | "+t._s(t.$t("cultivate.dropDetail.expectedAP"))+"⚡ | $"+t._s(t.$t("cultivate.dropDetail.costPerformanceOfMission")))]):t._e()]),a("div",{staticClass:"mdui-dialog-content mdui-p-b-0"},t._l(t.dropDetails,(function(e){return a("div",{key:"dd-"+e.code,staticClass:"stage"},[a("h5",{staticClass:"h-ul"},[t._v(" "+t._s(e.code)+" "),a("code",[t._v(t._s(t.l.round(t.dropInfo.expectAP[t.dropFocus][e.code],1).toPrecision(3))+"⚡")]),t._v(" "),a("code",[t._v("$"+t._s(t.dropInfo.stageValue[e.code].toPrecision(4)))])]),a("div",{staticClass:"num-item-list"},t._l(e.drops,(function(i){return a("arkn-num-item",{directives:[{name:"show",rawName:"v-show",value:t.$root.isImplementedMaterial(i[0]),expression:"$root.isImplementedMaterial(drop[0])"}],key:"detail-"+e.code+"-"+i[0],attrs:{t:t.materialTable[i[0]].rare,img:i[0],lable:t.$t("material."+i[0]),num:t.l.round(100*i[1],2)+"%",color:t.dropFocus==i[0]?"mdui-text-color-theme mdui-btn-bold":"mdui-text-color-theme-secondary"}})})),1)])})),0)]:t._e(),a("div",{staticClass:"mdui-dialog-actions"},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.dialogTransparentBtn,expression:"$root.color.dialogTransparentBtn"}],staticClass:"mdui-btn mdui-ripple",attrs:{"mdui-dialog-cancel":""}},[t._v(t._s(t.$t("common.close")))])])],2),a("div",{staticClass:"mdui-dialog mdui-typo",attrs:{id:"data-sync"}},[a("div",{staticClass:"mdui-dialog-title"},[t._v(t._s(t.$t("cultivate.panel.sync.cloudSync")))]),a("div",{staticClass:"mdui-dialog-content mdui-p-b-0"},[a("h5",{staticClass:"mdui-m-t-0"},[t._v(t._s(t.$t("cultivate.panel.sync.cloudBackup")))]),a("div",{staticClass:"mdui-valign-bottom space-8",class:{processing:t.dataSyncing}},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-color-green-600","mdui-color-green-300 mdui-ripple-black"],expression:"['mdui-color-green-600', 'mdui-color-green-300 mdui-ripple-black']"}],staticClass:"mdui-btn mdui-ripple tag-btn",on:{click:function(e){return t.cloudSaveData()}}},[a("i",{staticClass:"mdui-icon material-icons"},[t._v("cloud_upload")]),t._v(" "+t._s(t.$t("common.backup")))]),a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-color-blue-600","mdui-color-blue-300 mdui-ripple-black"],expression:"['mdui-color-blue-600', 'mdui-color-blue-300 mdui-ripple-black']"}],staticClass:"mdui-btn mdui-ripple tag-btn",attrs:{disabled:!t.setting.syncCodeV2},on:{click:t.cloudRestoreData}},[a("i",{staticClass:"mdui-icon material-icons"},[t._v("cloud_download")]),t._v(" "+t._s(t.$t("common.restore")))]),a("mdui-switch",{attrs:{disabled:!t.setting.syncCodeV2},model:{value:t.setting.autoSyncUpload,callback:function(e){t.$set(t.setting,"autoSyncUpload",e)},expression:"setting.autoSyncUpload"}},[t._v(t._s(t.$t("cultivate.panel.sync.autoSyncUpload")))])],1),a("table",{staticClass:"thin-table mdui-m-b-1",staticStyle:{width:"100%"}},[a("tbody",[a("tr",[a("td",[a("div",{staticClass:"mdui-textfield",attrs:{id:"sync-code"}},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.setting.syncCodeV2,expression:"setting.syncCodeV2",modifiers:{trim:!0}}],staticClass:"mdui-textfield-input",attrs:{type:"text",placeholder:t.$t("cultivate.panel.sync.syncCode")},domProps:{value:t.setting.syncCodeV2},on:{input:function(e){e.target.composing||t.$set(t.setting,"syncCodeV2",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]),a("td",{attrs:{width:"1"}},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-text-color-pink-accent","mdui-text-color-indigo-a100"],expression:"['mdui-text-color-pink-accent', 'mdui-text-color-indigo-a100']"}],staticClass:"mdui-btn mdui-ripple",staticStyle:{"min-width":"unset"},attrs:{disabled:!t.setting.syncCodeV2},on:{click:t.copySyncCode}},[t._v(t._s(t.$t("common.copy")))])])])])]),a("p",[t._v(t._s(t.$t("cultivate.panel.sync.cloudSyncReadme")))]),a("p",[t._v(t._s(t.$t("cultivate.panel.sync.autoSyncUploadTip")))]),t._m(0),a("div",{staticClass:"mdui-divider mdui-m-y-2"}),a("h5",{staticClass:"mdui-m-t-0"},[t._v(t._s(t.$t("cultivate.panel.sync.localBackup")))]),a("div",{staticClass:"mdui-m-b-2"},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-color-green-600","mdui-color-green-300 mdui-ripple-black"],expression:"['mdui-color-green-600', 'mdui-color-green-300 mdui-ripple-black']"}],staticClass:"mdui-btn mdui-ripple tag-btn",on:{click:t.saveData}},[a("i",{staticClass:"mdui-icon material-icons"},[t._v("file_upload")]),t._v(" "+t._s(t.$t("common.backup")))]),a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:["mdui-color-blue-600","mdui-color-blue-300 mdui-ripple-black"],expression:"['mdui-color-blue-600', 'mdui-color-blue-300 mdui-ripple-black']"}],staticClass:"mdui-btn mdui-ripple tag-btn",on:{click:t.restoreData}},[a("i",{staticClass:"mdui-icon material-icons"},[t._v("file_download")]),t._v(" "+t._s(t.$t("common.restore")))])]),a("p",[t._v(t._s(t.$t("cultivate.panel.sync.localBackupReadme")))])]),a("div",{staticClass:"mdui-dialog-actions"},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.dialogTransparentBtn,expression:"$root.color.dialogTransparentBtn"}],staticClass:"mdui-btn mdui-ripple",attrs:{"mdui-dialog-cancel":""}},[t._v(t._s(t.$t("common.close")))])])]),a("div",{staticClass:"mdui-dialog",attrs:{id:"preset-todo"}},[t.sp?[a("div",{staticClass:"mdui-dialog-title"},[a("img",{staticClass:"mdui-card-header-avatar mdui-color-grey-400 no-pe",attrs:{src:!!t.selectedPresetName&&t.$root.avatar(t.selectedPresetName),crossorigin:"anonymous"}}),a("div",{staticClass:"mdui-card-header-title"},[t._v(t._s(t.$t("character."+t.selectedPresetName)))]),a("div",{staticClass:"mdui-text-color-theme-secondary mdui-m-t-1 no-sl"},[a("small",[t._v(t._s(t.$t("cultivate.todos.tips")))])])]),a("div",{staticClass:"mdui-dialog-content mdui-p-x-0 mdui-p-y-0 mdui-typo"},[a("transition-group",{staticClass:"mdui-list mdui-p-y-0 no-sl",attrs:{tag:"div",name:"todo-list-transition"},on:{"before-leave":t.transitionBeforeLeave,"after-leave":t.transitionAfterLeaveBeforeEnter}},[t._l(t.displayTodoGroup,(function(e){return[t._l(e.list,(function(i,s){return[a("label",{key:"elite-todo-"+i.name,staticClass:"mdui-list-item mdui-p-l-4",class:{"mdui-ripple":0==s},attrs:{disabled:s>0}},[a("div",{staticClass:"mdui-checkbox",class:{"opacity-0":s>0}},[0==s?a("input",{attrs:{type:"checkbox",disabled:!t.canFinished(i.cost)},on:{change:function(a){return t.doFinished(i,e.gi)}}}):t._e(),a("i",{staticClass:"mdui-checkbox-icon"})]),a("div",{staticClass:"mdui-list-item-content mdui-m-l-1"},[a("span",{staticClass:"mdui-m-r-1",class:{"mdui-text-color-blue":0==s,"mdui-text-color-theme-secondary":s>0}},[t._v(t._s(i.name))]),a("div",{staticClass:"preset-todo-materials"},[t._l(t.showNeeds(i.cost),(function(e,i){return a("small",{key:"elite-need-"+(i+1),staticClass:"mdui-text-color-grey-600"},[t._v(" "+t._s(e.text)+" "+t._s(e.have)+"/"),a("span",{class:{"mdui-text-color-theme-accent mdui-btn-bold":e.have<e.need}},[t._v(t._s(e.need))])])})),t.canFinished(i.cost)?t._e():a("small",{staticClass:"mdui-text-color-theme-accent"},[t._v(t._s(t.$t("cultivate.todos.cannotFinished")))])],2)])])]}))]}))],2)],1)]:t._e(),a("div",{staticClass:"mdui-dialog-actions"},[a("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.dialogTransparentBtn,expression:"$root.color.dialogTransparentBtn"}],staticClass:"mdui-btn mdui-ripple",attrs:{"mdui-dialog-cancel":""}},[t._v(t._s(t.$t("common.close")))])])],2)])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v("Powered by "),a("a",{attrs:{href:"https://jsonstorage.net/",target:"_blank"}},[t._v("JsonStorage")]),t._v(".")])}],n=(a("99af"),a("a623"),a("cb29"),a("4de4"),a("7db0"),a("0481"),a("4160"),a("a630"),a("caad"),a("c975"),a("a15b"),a("d81d"),a("fb6a"),a("45fc"),a("a434"),a("4069"),a("b0c0"),a("4fad"),a("dca8"),a("b64b"),a("d3b7"),a("07ac"),a("ac1f"),a("25f0"),a("6062"),a("3ca3"),a("5319"),a("1276"),a("2ca0"),a("159b"),a("ddb0"),a("ade3")),r=(a("96cf"),a("1da1")),o=a("b85c"),l=a("3835"),c=a("2909"),u=a("5530"),m=a("b4ac"),d=a("5c6d"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"mdui-typo mdui-m-y-0",staticStyle:{"font-size":"14px"}},[t.$root.localeCN?[a("li",[t._v("设置与输入会实时自动保存")]),t._m(0),a("li",[t._v("点击一次材料名字旁边的"),a("b",[t._v(t._s(t.$t("common.synthesize")))]),t._v("按钮可模拟全部合成（扣除原材料，增加产物）")]),a("li",[t._v("点击材料卡片右侧的掉落信息可显示相关关卡的详细掉落情况，以及关卡性价比（越高越好，仅供参考）")]),a("li",[a("span",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.pinkText,expression:"$root.color.pinkText"}]},[t._v("粉色字材料")]),t._v("代表该材料存在原始需求，而不仅仅是上位材料所需的合成材料")]),t._m(1),a("li",[a("b",[t._v(t._s(t.$t("cultivate.panel.button.farmCalculation")))]),t._v("可以计算最优的刷图路线，结果仅供参考，稀有度筛选决定了计算时是否考虑该级材料的向上合成，掉落概率数据来自"),a("a",{attrs:{href:"https://penguin-stats.io/",target:"_blank"}},[t._v("企鹅物流数据统计")])])]:"ja"===t.$root.locale?[a("li",[t._v("この画面の値はすべて自動セーブです。")]),t._m(2),a("li",[t._v("材料の名前の横に"),a("b",[t._v(t._s(t.$t("common.synthesize")))]),t._v("ボタンをクリックして、合成必要の材料を表示できます「元材料を抜き、産物を増加」。")]),a("li",[t._v("材料カードの右に「ステージにドロップ詳細」と「ステージの価値」を表示し、高ければ高いほどがいい（参考のみ）。")]),a("li",[a("span",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.pinkText,expression:"$root.color.pinkText"}]},[t._v("ピンク色の名前の材料")]),t._v("は元必要の代表して、上位材料の合成必要材料だけではありません。")]),t._m(3),a("li",[a("b",[t._v("「"+t._s(t.$t("cultivate.panel.button.farmCalculation"))+"」ボタン")]),t._v("で最優先のルートをご計算できますが、参考のみ。レアリティのフィルタでは、このレアリティの材料の上向き合成が計算で考慮されるかどうかを決定します。オリジナルデータは"),a("a",{attrs:{href:"https://penguin-stats.io/",target:"_blank"}},[t._v("ペンギン急便データ統計処理部門")]),t._v("から。")])]:[a("li",[t._v("Settings and inputs will be saved automatically.")]),a("li",[t._v("In "),a("b",[t._v('"'+t._s(t.$t("common.lack"))+'"')]),t._v(" on the material card, the number with brackets means the quantity that the current material can be synthesized.")]),a("li",[t._v("View some statistical data about a material by clicking the dropping information on the right side of the material card.")]),a("li",[t._v("Click the "),a("b",[t._v('"'+t._s(t.$t("common.synthesize"))+'"')]),t._v(" button next to a material's name can simulate a synthesis.")]),a("li",[a("span",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.pinkText,expression:"$root.color.pinkText"}]},[t._v("Material name with a pink color")]),t._v(" means it has original demand, but not only be used to synthesize.")]),a("li",[t._v("Use "),a("b",[t._v('"'+t._s(t.$t("common.preset"))+'"')]),t._v(" to calculate material demand of cultivating operators. Add a preset will drop all "),a("b",[t._v('"'+t._s(t.$t("common.need"))+'"')]),t._v(" changes. You can edit a preset by clicking its label. All presets will be cleared if you click "),a("b",[t._v('"'+t._s(t.$t("cultivate.panel.button.resetNeed"))+'"')]),t._v(" or "),a("b",[t._v('"'+t._s(t.$t("cultivate.panel.button.resetAll"))+'"')]),t._v(".")]),a("li",[a("b",[t._v('"'+t._s(t.$t("cultivate.panel.button.farmCalculation"))+'"')]),t._v(" is a function to calculate the optimal missions by linear programming. Rarity filter determines whether the upward synthesis of this rarity of material is considered in the calculation. All data come from "),a("a",{attrs:{href:"https://penguin-stats.io/",target:"_blank"}},[t._v("penguin stats")]),t._v(".")])]],2)},v=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[t._v("材料卡片的"),a("b",[t._v("仍需")]),t._v("中，小字括号中的数字表示可以合成的数量")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("b",[t._v("预设")]),t._v("用于计算干员精英化/技能升级所需材料，添加预设将会丢弃当前所有的"),a("b",[t._v("需求")]),t._v("输入，点击已添加的预设可以进行编辑；在"),a("b",[t._v("重置需求&已有")]),t._v("或"),a("b",[t._v("重置需求")]),t._v("后，预设将一并被清空")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[t._v("材料カードの"),a("b",[t._v("「不足」")]),t._v("の小さくてカッコの数字は、合成材料必要の数字です。")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("b",[t._v("「プリセット」")]),t._v("は昇進・スキルアップが必要の材料を計算できますが、設定した後、画面にある"),a("b",[t._v("必要")]),t._v("の値はリッセットになりますので、気をつけてください。追加した後、名前タッグをクリックして、もう一度セットできます。"),a("b",[t._v("需要をリセット&已有")]),t._v("或"),a("b",[t._v("需要をリセット")]),t._v("をクリックして、プリセットもリッセットします。")])}],h={name:"material-readme"},b=h,f=a("2877"),g=Object(f["a"])(b,p,v,!1,null,null,null),_=g.exports,y=a("60bb"),k=a.n(y),$=a("27ae"),x=a("ab3e"),C=a("5ec1"),S=a.n(C),w=a("6821"),T=a.n(w),N=a("9031"),P=a("f3d4"),D=a("8e88"),O=a("9d72"),I=k.a.mapValues(O,(function(t,e){return Object(u["a"])({name:e},t)})),B=Object.values(I),j=k.a.groupBy(B,(function(t){var e=t.rare;return e})),E=k.a.sortBy(k.a.clone(B),"sortId").map((function(t){var e=t.name;return e})),A={materials:j,materialTable:I,materialList:B,materialOrder:E},L=a("072a"),z=a("3b93"),M=Object(u["a"])(Object(u["a"])({},z.normal),k.a.mapValues(z.event,(function(t){return Object(u["a"])(Object(u["a"])({},t),{},{event:!0})}))),F={"-1":"SYNT",0:"ALWAYS",1:"ALMOST",2:"USUAL",3:"OFTEN",4:"SOMETIMES"};Object.freeze(F);var V="https://penguin-stats.io/PenguinStats/api/v2/result/matrix",R=["cost","event","cardExp"],J={evolve:[!1,!1],skills:{normal:[!1,1,7],elite:[[!1,7,10],[!1,7,10],[!1,7,10]]},state:"add"},U=function(t){return t<0?0:t},W={name:"arkn-material",components:{MaterialReadme:_,ArknNumItem:m["a"],ArknItemT:d["a"]},data:function(){return Object(u["a"])(Object(u["a"])({l:k.a,showAll:!1,enumOccPer:F},A),{},{characterTable:L["a"],elite:N,inputs:{},preset:"",selectedPresetName:"",selectedPreset:!1,pSetting:k.a.cloneDeep(J),presetDialog:!1,selected:{rare:[],presets:[]},setting:{simpleMode:!1,hideIrrelevant:!1,translucentDisplay:!0,showDropProbability:!1,prioritizeNeedsWhenSynt:!1,planIncludeEvent:!0,planCardExpFirst:!1,syncCodeV2:"",autoSyncUpload:!1},settingList:[["simpleMode","hideIrrelevant","translucentDisplay","showDropProbability","prioritizeNeedsWhenSynt"],["planCardExpFirst"]],color:{notSelected:["mdui-color-brown-300 mdui-ripple-black","mdui-color-grey-800"],selected:["mdui-color-grey-800","mdui-color-brown-100 mdui-ripple-black"],5:["mdui-color-yellow-700","mdui-color-yellow-200 mdui-ripple-black"],4:["mdui-color-deep-purple-300","mdui-color-deep-purple-200 mdui-ripple-black"],3:["mdui-color-blue-600","mdui-color-blue-200 mdui-ripple-black"],2:["mdui-color-lime","mdui-color-lime-200 mdui-ripple-black"],1:["mdui-color-grey-700","mdui-color-grey-200 mdui-ripple-black"],SYNT:["mdui-color-orange-900","mdui-color-orange-300"],ALWAYS:["mdui-color-grey-900","mdui-color-grey-200"],ALMOST:["mdui-color-grey-700","mdui-color-grey-400"],USUAL:["mdui-color-grey-500","mdui-color-grey-600"],OFTEN:["mdui-color-grey-300","mdui-color-grey-800"],SOMETIMES:["mdui-color-red-900","mdui-color-red-200"]},penguinData:{time:0,data:null},plannerInited:!1,dropTable:{},plannerRequest:!1,plannerDialog:!1,apbDisabled:!1,dropDialog:!1,dropDetails:!1,dropFocus:"",dropInfo:{expectAP:{},stageValue:{}},synthesisTable:[],materialConstraints:{},dataSyncDialog:!1,dataSyncing:!1,throttleAutoSyncUpload:null,ignoreInputsChange:!1,todoGroupList:!1})},watch:{setting:{handler:function(t){return localStorage.setItem("material.setting",JSON.stringify(t))},deep:!0},selected:{handler:function(t){return localStorage.setItem("material.selected",JSON.stringify(t))},deep:!0},inputs:{handler:function(t){for(var e=0,a=Object.values(t);e<a.length;e++)for(var i=a[e],s=0,n=Object.keys(i);s<n.length;s++){var r=n[s];if(["need","have"].includes(r)){var o=i[r],l=/[^0-9]/.exec(o);l&&(i[r]=(parseInt(/[0-9]*/.exec(o)[0])||0).toString())}else delete i[r]}localStorage.setItem("material.inputs",JSON.stringify(t)),this.setting.autoSyncUpload&&this.setting.syncCodeV2&&this.throttleAutoSyncUpload&&(this.ignoreInputsChange?this.ignoreInputsChange=!1:this.throttleAutoSyncUpload())},deep:!0},"setting.showDropProbability":function(t){t&&this.initPlanner()},"$root.locale":function(){this.updatePreset()}},computed:{isPenguinDataExpired:function(){var t=Date.now(),e=this.penguinData.time||0,a=this.$root.localeCN&&k.a.some(D,(function(e){var a=e.valid,i=a.startTs,s=a.endTs;return 1e3*i<=t&&t<1e3*s}));if(a&&k.a.some(D,(function(t){var a=t.valid.startTs;return e<1e3*a})))return!0;var i=24*(a?3:7)*60*60*1e3;return e+i<t},selectedSynthesisTable:function(){var t=this;return this.synthesisTable.filter((function(e,a){return t.selected.rare[a]}))},unopenedStages:function(){return P[this.$root.locale]},dropTableByServer:function(){return k.a.omit(this.dropTable,this.unopenedStages)},dropListByServer:function(){var t=this,e=k.a.mapValues(this.materialTable,(function(e){var a=e.drop;return k.a.omit(a,t.unopenedStages)}));if(this.$root.localeCN){var a=Date.now(),i=k.a.pickBy(D,(function(t){var e=t.valid,i=e.startTs,s=e.endTs;return 1e3*i<=a&&a<1e3*s}));e=k.a.merge.apply(k.a,[{}].concat(Object(c["a"])(k.a.map(i,(function(t){var e=t.drop;return e}))),[e]))}return e},syntExceptAPList:function(){var t=this;return k.a.mapValues(this.dropListByServer,(function(e,a){return t.getSyntExceptAP(a)}))},syntExceptAPListWithoutEvent:function(){var t=this;return k.a.mapValues(this.dropListByServer,(function(e,a){return t.getSyntExceptAP(a,!0)}))},displayDropListByServer:function(){var t=this,e=this.setting.showDropProbability&&this.plannerInited,a=k.a.cloneDeep(this.dropListByServer);return Object.keys(a).forEach((function(i){if(a[i]=k.a.mapValues(a[i],(function(a,s){var n={occPer:a};return e&&(n.expectAP=t.dropInfo.expectAP[i][s]),n})),e){var s=a[i],n=t.syntExceptAPList[i];if(n){var r=n.stages,o=n.ap,c=function(){if(r.length>1)return!0;if(1===r.length){var t=Object(l["a"])(r,1),e=t[0];if(!(e in s))return!0}return!1}();c&&(s.synt={occPer:-1,expectAP:o})}var u=k.a.sortBy(Object.keys(s),(function(t){return s[t].expectAP}));a[i]=k.a.transform(u,(function(t,e){t[e]=s[e]}),{})}})),a},implementedElite:function(){var t=this;return k.a.pickBy(this.elite,(function(e,a){return t.$root.isImplementedChar(a)}))},compressedInputs:{get:function(){return k.a.transform(this.inputsInt,(function(t,e,a){var i=e.need,s=e.have;i+s>0&&(t[a]=[i,s])}),{})},set:function(t){var e=this;this.reset(null,!1,!1),k.a.each(t,(function(t,a){if(Array.isArray(t)){var i=Object(l["a"])(t,2),s=i[0],n=i[1];e.inputs[a].need=s>0?k.a.toString(s):"",e.inputs[a].have=n>0?k.a.toString(n):""}else{var r=t.need,o=t.have;e.inputs[a].need=r,e.inputs[a].have=o}}))}},madeofTooltips:function(){var t=this,e=this.$t("cultivate.dropDetail.synthesizeCosts")+(this.$root.localeEN?": ":"："),a=this.$root.localeEN?", ":"、";return k.a.transform(this.materialList,(function(i,s){var n=s.name,r=s.madeof,o=[];k.a.forIn(r,(function(e,a){return o.push("".concat(t.$t("material.".concat(a)),"*").concat(e))})),i[n]=o.length>0?"".concat(e).concat(o.join(a)):t.$t("common.cannotSynthesize")}),{})},synthesizable:function(){var t=this;return k.a.transform(this.materialList,(function(e,a){var i=a.name,s=a.madeof;0!=k.a.size(s)?e[i]=k.a.every(s,(function(e,a){return t.inputsInt[a].have>=e})):e[i]=!1}),{})},allRare:function(){return k.a.sum(this.selected.rare)==this.rareNum},rareNum:function(){return k.a.size(this.materials)},rareArr:function(){return k.a.range(this.rareNum,0)},inputsInt:function(){var t={};for(var e in this.inputs)t[e]=k.a.mapValues(this.inputs[e],(function(t){return parseInt(t)||0}));return t},gaps:function(){var t=this,e=this.inputsInt,a=k.a.mapValues(e,(function(t){return t.need})),i=k.a.mapValues(e,(function(){return 0})),s=k.a.mapValues(e,(function(){return 0}));return k.a.forInRight(this.materials,(function(t){var i,s=Object(o["a"])(t);try{var n=function(){var t=i.value,s=t.name,n=t.madeof;a[s]=U(a[s]-e[s].have),k.a.forIn(n,(function(t,e){a[e]+=a[s]*t}))};for(s.s();!(i=s.n()).done;)n()}catch(r){s.e(r)}finally{s.f()}})),k.a.forIn(this.materials,(function(e,n){if(t.selected.rare[n-2]){var r,l=Object(o["a"])(e);try{for(l.s();!(r=l.n()).done;){var c=r.value,u=c.name,m=c.madeof;if(0!==k.a.size(m))while(a[u]>0&&k.a.every(m,(function(e,a){var n=t.inputsInt[a].have+i[a]-s[a]-e,r=t.setting.prioritizeNeedsWhenSynt?t.inputsInt[a].need:0;return n-r>=0})))a[u]--,i[u]++,k.a.forEach(m,(function(t,e){return s[e]+=t}))}}catch(d){l.e(d)}finally{l.f()}}})),k.a.mergeWith(a,i,(function(t,e){return[t,e]}))},showMaterials:function(){var t=this;if(!this.setting.hideIrrelevant||!this.hasInput)return k.a.mapValues(this.materials,(function(t){return new Set(t.map((function(t){var e=t.name;return e})))}));var e={},a=Object.keys(this.materials).sort().reverse();return a.forEach((function(a){if(t.selected.rare[a-1]){var i=t.materials[a].map((function(t){var e=t.name;return e})),s=new Set(i.filter((function(e){return t.inputsInt[e].need>0||k.a.sum(t.gaps[e])>0})));(e[parseInt(a)+1]||new Set).forEach((function(e){k.a.sum(t.gaps[e])&&Object.keys(t.materialTable[e].madeof).forEach((function(t){return s.add(t)}))})),e[a]=s}else e[a]=new Set})),e},showMaterialsFlatten:function(){return this.setting.hideIrrelevant&&this.hasInput?new Set(k.a.map(this.showMaterials,(function(t){return Array.from(t)})).flat()):new Set(this.materialOrder)},hasInput:function(){var t=this;return!!k.a.sumBy(Object.entries(this.inputsInt),(function(e){var a=Object(l["a"])(e,2),i=a[0],s=a[1].need;return s+k.a.sum(t.gaps[i])}))},presetItems:function(){var t=this,e=this.preset.toLowerCase().replace(/ /g,""),a=[];for(var i in this.implementedElite){var s=this.characterTable[i].pinyin,n=s.full,r=s.head,o=[n,r,this.$t("character.".concat(i)).toLowerCase().replace(/ /g,"")].map((function(t){return t.indexOf(e)}));k.a.every(o,(function(t){return-1===t}))||a.push({pos:k.a.min(o.filter((function(t){return t>=0}))),name:i})}return a.sort((function(t,e){return t.pos==e.pos?t.name.length-e.name.length:t.pos-e.pos})),k.a.map(a,(function(e){return{name:e.name,text:t.$t("character.".concat(e.name))}})).slice(0,10)},sp:function(){return 0!==this.selectedPresetName.length&&this.elite[this.selectedPresetName]},checkPSetting:function(){var t=this.pSetting,e=[].concat(Object(c["a"])(t.evolve),[t.skills.normal[0]],Object(c["a"])(k.a.map(t.skills.elite,(function(t){return t[0]}))));return k.a.sum(e)>0},plan:function(){var t=this;if(!this.plannerInited)return!1;var e=[this.$root.localeCN&&this.setting.planIncludeEvent?this.dropTableByServer:k.a.omitBy(this.dropTableByServer,(function(t){return t.event}))].concat(Object(c["a"])(this.selectedSynthesisTable)),a={optimize:"cost",opType:"min",constraints:Object(u["a"])(Object(u["a"])(Object(u["a"])({},this.materialConstraints),k.a.transform(this.inputsInt,(function(t,e,a){e.need>0&&(t[a]={min:e.need})}),{})),{},{cardExp:{min:0},init:{equal:1}}),variables:Object.assign.apply(Object,[{have:k.a.transform(this.inputsInt,(function(t,e,a){e.have>0&&(t[a]=e.have)}),{init:1})}].concat(Object(c["a"])(e)))};this.setting.planCardExpFirst&&(a.variables["转换-经验值"]={cardExp:-7400,cost:-30});var i=S.a.Solve(a);if(!i.feasible)return!1;delete i.feasible,delete i.result,delete i.bounded,delete i.have;var s=k.a.mapValues(k.a.mapValues(k.a.omitBy(i,(function(t,e){return e.startsWith("合成-")||e.startsWith("转换-")})),(function(t){return t<1?1:Math.ceil(t)})),(function(e,a){var i=e*t.dropTableByServer[a].cost,s=k.a.mapValues(k.a.omit(t.dropTableByServer[a],R),(function(t){return k.a.round(e*t,1)})),n=k.a.transform(s,(function(t,e,a){e>0&&t.push({name:a,num:e})}),[]);return n.sort((function(e,a){var i=t.materialTable[a.name].rare-t.materialTable[e.name].rare;return 0==i&&(i=a.num-e.num),i})),{times:e,cost:i,money:12*i,cardExp:k.a.round(t.dropTableByServer[a].cardExp*e),drops:n}})),n=k.a.toPairs(s),r=k.a.transform(s,(function(t,e,a){return t.push(Object(u["a"])({code:a},e))}),[]);r.sort((function(t,e){return e.code.localeCompare(t.code)}));var o=0,l=k.a.transform(k.a.pickBy(i,(function(t,e){return e.startsWith("合成-")})),(function(e,a,i){var s=i.split("合成-")[1];o+=100*(t.materialTable[s].rare-1)*a,e.push({name:s,num:k.a.round(a,1)})}),[]);return l.sort((function(e,a){var i=t.materialTable[a.name].rare-t.materialTable[e.name].rare;return 0==i&&(i=a.num-e.num),i})),o=k.a.round(o),{cost:k.a.sumBy(n,(function(t){return t[1].cost})),stages:r,synthesis:l,synthesisCost:o,money:k.a.sumBy(n,(function(t){return t[1].money}))-o,cardExp:k.a.sumBy(n,(function(t){return t[1].cardExp}))}},syntExceptAPlpVariables:function(){return Object.assign.apply(Object,[{},this.$root.localeCN?this.dropTableByServer:k.a.omitBy(this.dropTableByServer,(function(t){return t.event}))].concat(Object(c["a"])(this.synthesisTable)))},syntExceptAPlpVariablesWithoutEvent:function(){return Object.assign.apply(Object,[{},k.a.omitBy(this.dropTableByServer,(function(t){return t.event}))].concat(Object(c["a"])(this.synthesisTable)))},materialsCharMap:function(){var t=this,e=k.a.map(this.selected.presets,(function(t){var e=t.name,a=t.setting,i=a.evolve,s=a.skills,n=s.elite,r=s.normal;return k.a.merge({name:e,evolve:i,normal:k.a.map(k.a.range(1,7),(function(t){return!!(r[0]&&t>=r[1]&&t<r[2])}))},k.a.transform(n,(function(t,e,a){t["elite_".concat(a)]=k.a.map(k.a.range(7,10),(function(t){return!!(e[0]&&t>=e[1]&&t<e[2])}))}),{}))}));return k.a.transform(e,(function(e,a){var i=t.elite[a.name],s=i.evolve,n=i.skills,r=n.elite,o=n.normal,l=k.a.merge({evolve:s,normal:o},k.a.transform(r,(function(t,e,a){t["elite_".concat(a)]=e.cost}),{}));k.a.forIn(l,(function(t,i){var s=a[i];k.a.each(t,(function(t,i){s[i]&&k.a.forIn(t,(function(t,i){e[i]=k.a.uniq([].concat(Object(c["a"])(e[i]||[]),[a.name]))}))}))}))}),{})},displayTodoGroup:function(){return k.a.transform(this.todoGroupList,(function(t,e,a){var i=k.a.filter(e,(function(t){return!t.finished}));k.a.size(i)&&t.push(Object(u["a"])({},{list:i,gi:a}))}),[])},moraleConsumption:function(){var t=this,e={5:8,4:4,3:2,2:1,1:0};return k.a.mapValues(this.materials,(function(a,i){return k.a.sumBy(a,(function(a){var s=a.name;return t.gaps[s][1]*e[i]}))}))}},methods:{num10k:function(t){return t>1e5?this.$root.localeCN?"".concat(k.a.round(t/1e4,2),"w"):"".concat(k.a.round(t/1e3,1),"k"):t},calcMaterialNameTextWidth:function(t){var e=245;return this.synthesizable[t.name]&&this.gaps[t.name][1]>0&&(e-=40),!this.$root.smallScreen&&k.a.size(t.drop)>=4&&(e-=85),e},synthesize:function(t,e){var a=this;if(this.synthesizable[t]){var i=this.materialTable[t].madeof;e=e||Math.min.apply(Math,[k.a.sum(this.gaps[t])].concat(Object(c["a"])(k.a.map(i,(function(t,e){return Math.floor(a.inputsInt[e].have/t)}))))),k.a.forIn(i,(function(t,i){return a.inputs[i].have=(a.inputsInt[i].have-t*e).toString()})),this.inputs[t].have=(this.inputsInt[t].have+e).toString()}},reset:function(t){var e=this,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=i?{inputs:k.a.cloneDeep(this.inputs),presets:k.a.cloneDeep(this.selected.presets)}:null;for(var n in!a||t&&"have"===t||(this.selected.presets=[]),this.ignoreInputsChange=!0,this.inputs){var r=this.inputs[n];if(t)r[t]="";else for(var o in r)r[o]=""}i&&this.$snackbar({message:this.$t("common.reseted"),timeout:0,buttonText:this.$t("common.undo"),onButtonClick:function(){e.ignoreInputsChange=!0,e.inputs=s.inputs,e.selected.presets=s.presets}})},addNeed:function(t){var e=this;k.a.each(t,(function(t,a){var i=parseInt(e.inputs[a].need)||0;e.inputs[a].need=(i+t).toString()}))},usePreset:function(t){var e=this;t&&(this.selected.presets=t),this.reset("need",!1,!1);var a,i=Object(o["a"])(this.selected.presets);try{var s=function(){var t=a.value,i=t.name,s=t.setting,n=s.evolve,r=s.skills,o=e.elite[i];if(o.evolve.forEach((function(t,a){n[a]&&e.addNeed(t)})),r.normal[0])for(var l=r.normal[1]-1;l<r.normal[2]-1;l++)e.addNeed(o.skills.normal[l]);o.skills.elite.forEach((function(t,a){var i=r.elite[a];if(i[0])for(var s=o.skills.normal.length+1,n=i[1]-s;n<i[2]-s;n++)e.addNeed(o.skills.elite[a].cost[n])}))};for(i.s();!(a=i.n()).done;)s()}catch(n){i.e(n)}finally{i.f()}localStorage.setItem("material.selected",JSON.stringify(this.selected))},showPreset:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.selectedPreset=t,this.selectedPresetName=t.tag.name,a?this.pSetting=k.a.cloneDeep(this.selected.presets[t.index].setting):(this.pSetting=k.a.cloneDeep(J),k.a.each(this.elite[this.selectedPresetName].skills.elite,(function(t,a){var i=t.cost;e.pSetting.skills.elite[a][2]-=3-i.length}))),this.$nextTick((function(){e.presetDialog.open(),e.$mutation()}))},addPreset:function(){this.checkPSetting?(this.selectedPreset.tag.setting=k.a.cloneDeep(this.pSetting),this.selectedPreset.tag.setting.state="edit",this.selectedPreset.addTag()):this.$snackbar(this.$t("cultivate.panel.preset.emptySelect"))},editPreset:function(){this.checkPSetting?(this.selected.presets[this.selectedPreset.index].setting=k.a.cloneDeep(this.pSetting),this.usePreset()):this.$snackbar(this.$t("cultivate.panel.preset.emptySelect"))},updatePreset:function(){var t=this;this.selected.presets.forEach((function(e){return e.text=t.$t("character.".concat(e.name))}))},copySyncCode:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$requestClipboardPermission();case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,t.$copyText(t.setting.syncCodeV2);case 6:t.$snackbar(t.$t("common.copied"));case 7:case"end":return e.stop()}}),e)})))()},saveData:function(){var t=this;this.dataSyncDialog.close();var e={inputs:this.compressedInputs,presets:this.selected.presets},a=$["Base64"].encode(JSON.stringify(e));this.$prompt(this.$t("cultivate.panel.sync.saveDataLable"),this.$t("cultivate.panel.sync.saveDataTitle"),Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$requestClipboardPermission();case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,t.$copyText(a);case 6:t.$snackbar(t.$t("common.copied"));case 7:case"end":return e.stop()}}),e)}))),(function(){}),{history:!1,defaultValue:a,cancelText:this.$t("common.close"),confirmText:this.$t("cultivate.panel.sync.copy2clipboard")})},restoreData:function(){var t=this;this.dataSyncDialog.close(),this.$prompt(this.$t("cultivate.panel.sync.restoreDataLable"),this.$t("cultivate.panel.sync.restoreDataTitle"),(function(e){if(0!=e.length)try{var a=JSON.parse($["Base64"].decode(e)),i=a.inputs,s=a.presets;t.compressedInputs=i,t.selected.presets=s,t.$snackbar(t.$t("cultivate.snackbar.imported"))}catch(n){t.$snackbar(t.$t("cultivate.snackbar.importFailed"))}}),(function(){}),{history:!1,cancelText:this.$t("common.cancel"),confirmText:this.$t("common.import")})},cloudSaveData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=e?function(){}:this.$snackbar,i={inputs:this.compressedInputs,presets:this.selected.presets},s={md5:T()(JSON.stringify(i)),data:i};this.dataSyncing=!0,this.setting.syncCodeV2?x["a"].updateJson(this.setting.syncCodeV2,s).then((function(){t.dataSyncing=!1,a(t.$t("cultivate.snackbar.backupSucceeded"))})).catch((function(){t.dataSyncing=!1,a(t.$t("cultivate.snackbar.backupFailed"))})):x["a"].createJson(s).then((function(e){t.dataSyncing=!1,t.setting.syncCodeV2=e,a(t.$t("cultivate.snackbar.backupSucceeded"))})).catch((function(){t.dataSyncing=!1,a(t.$t("cultivate.snackbar.backupFailed"))}))},cloudRestoreData:function(){var t=this;this.setting.syncCodeV2&&(this.dataSyncing=!0,x["a"].getJson(this.setting.syncCodeV2).then((function(e){var a=e.md5,i=e.data;if(!a||!i||a!==T()(JSON.stringify(i)))return t.dataSyncing=!1,void t.$snackbar(t.$t("cultivate.snackbar.restoreFailed"));t.ignoreInputsChange=!0,t.compressedInputs=i.inputs,t.selected.presets=i.presets,t.$snackbar(t.$t("cultivate.snackbar.restoreSucceeded")),t.dataSyncing=!1})).catch((function(){t.dataSyncing=!1,t.$snackbar(t.$t("cultivate.snackbar.restoreFailed"))})))},initPlanner:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,i,s,n,r,l,c,m,d,p,v,h,b,f,g,_,y,$,C,S,w,T,N;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.plannerInited){e.next=2;break}return e.abrupt("return");case 2:if(t.penguinData.data&&!t.isPenguinDataExpired){e.next=19;break}return a=t.$snackbar({message:t.$t("cultivate.snackbar.penguinDataLoading"),timeout:0,closeOnOutsideClick:!1}),e.next=6,x["a"].get(V,!0).catch((function(){return!1}));case 6:if(i=e.sent,a.close(),!i){e.next=13;break}t.penguinData={data:i,time:Date.now()},localStorage.setItem("material.penguinData",JSON.stringify(t.penguinData)),e.next=19;break;case 13:if(!t.penguinData.data){e.next=17;break}t.$snackbar(t.$t("cultivate.snackbar.penguinDataFallback")),e.next=19;break;case 17:return t.$snackbar(t.$t("cultivate.snackbar.penguinDataFailed")),e.abrupt("return");case 19:s=t.dropInfo.expectAP,n=Object(o["a"])(t.materialList),e.prev=21,n.s();case 23:if((r=n.n()).done){e.next=35;break}if(l=r.value,c=l.name,m=l.madeof,d=l.rare,s[c]={},t.materialConstraints[c]={min:0},0!=k.a.size(m)){e.next=29;break}return e.abrupt("continue",33);case 29:p={},p[c]=1,t.synthesisTable[d-2]||(t.synthesisTable[d-2]={}),t.synthesisTable[d-2]["合成-".concat(c)]=Object(u["a"])(Object(u["a"])(Object(u["a"])({},p),k.a.mapValues(m,(function(t){return-t}))),{},{cost:0});case 33:e.next=23;break;case 35:e.next=40;break;case 37:e.prev=37,e.t0=e["catch"](21),n.e(e.t0);case 40:return e.prev=40,n.f(),e.finish(40);case 43:v={2001:200,2002:400,2003:1e3,2004:2e3},h=Object(o["a"])(t.penguinData.data.matrix),e.prev=45,h.s();case 47:if((b=h.n()).done){e.next=58;break}if(f=b.value,g=f.stageId,_=f.itemId,y=f.quantity,$=f.times,0!==y){e.next=51;break}return e.abrupt("continue",56);case 51:if(g in M&&(_ in t.materialConstraints||_ in v)){e.next=53;break}return e.abrupt("continue",56);case 53:C=M[g],S=C.code,w=C.cost,T=C.event,N=void 0!==T&&T,t.dropTable[S]||(t.dropTable[S]={cost:w,event:N,cardExp:0}),_ in v?t.dropTable[S].cardExp+=v[_]*y/$:(t.dropTable[S][_]=y/$,s[_][S]=w/t.dropTable[S][_]);case 56:e.next=47;break;case 58:e.next=63;break;case 60:e.prev=60,e.t1=e["catch"](45),h.e(e.t1);case 63:return e.prev=63,h.f(),e.finish(63);case 66:t.plannerInited=!0,k.a.forEach(s,(function(e,a){return e.value=t.syntExceptAPListWithoutEvent[a].ap})),k.a.forEach(t.dropTable,(function(e,a){t.dropInfo.stageValue[a]=k.a.sum(k.a.map(k.a.omit(e,R),(function(t,e){return s[e].value*t})))/e.cost}));case 69:case"end":return e.stop()}}),e,null,[[21,37,40,43],[45,60,63,66]])})))()},showPlan:function(){var t=this;0===this.plan.cost?this.$alert(this.$t("cultivate.planner.noNeed"),(function(){}),{confirmText:this.$t("common.okay")}):(this.plannerRequest=!0,this.$nextTick((function(){return t.plannerDialog.open()})))},resetPenguinData:function(){localStorage.removeItem("material.penguinData"),window.location.reload()},showDropDetail:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var i,s,n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=t.name,a.next=3,e.initPlanner();case 3:e.dropDetails=[],e.dropFocus=i,a.t0=regeneratorRuntime.keys(e.displayDropListByServer[i]);case 6:if((a.t1=a.t0()).done){a.next=17;break}if(s=a.t1.value,"synt"!==s){a.next=10;break}return a.abrupt("continue",6);case 10:if(n=e.dropTable[s],n){a.next=13;break}return a.abrupt("continue",6);case 13:r=k.a.toPairs(k.a.omit(n,R)).sort((function(t,a){var i=e.materialTable[a[0]].rare-e.materialTable[t[0]].rare;return 0!=i?i:a[1]-t[1]})),e.dropDetails.push({code:s,cost:n.cost,drops:r}),a.next=6;break;case 17:e.$nextTick((function(){return e.dropDialog.open()}));case 18:case"end":return a.stop()}}),a)})))()},transitionBeforeLeave:function(t){var e,a,i=null!==(e=null===(a=t.offsetParent)||void 0===a?void 0:a.getBoundingClientRect())&&void 0!==e?e:{top:0,left:0},s=t.getBoundingClientRect();this.$$(t).css({top:"".concat(s.top-i.top,"px"),left:"".concat(s.left-i.left,"px"),width:"".concat(s.width,"px")})},transitionAfterLeaveBeforeEnter:function(t){this.$$(t).css({top:"",left:"",width:""})},showSyntBtn:function(t){return this.synthesizable[t.name]&&k.a.sum(this.gaps[t.name])>0},getSyntExceptAP:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.plannerInited)return null;var a={optimize:"cost",opType:"min",constraints:Object(u["a"])(Object(u["a"])({},this.materialConstraints),{},Object(n["a"])({},t,{min:1})),variables:e?this.syntExceptAPlpVariablesWithoutEvent:this.syntExceptAPlpVariables},i=S.a.Solve(a),s=i.result;return delete i.feasible,delete i.result,delete i.bounded,{stages:Object.keys(i).filter((function(t){return!t.startsWith("合成-")})),ap:s}},onDropListScroll:function(t){var e=this,a=t.deltaY,i=t.path,s=a/Math.abs(a),n=i.find((function(t){return e.$$(t).hasClass("drop-list")})),r=Math[{"-1":"floor",0:"round",1:"ceil"}[s]](n.scrollTop/21)+s;n.scrollTop=21*r},showTodoPreset:function(t){var e=this;this.selectedPreset=t,this.selectedPresetName=t.tag.name;var a=t.tag.setting;this.pSetting=k.a.cloneDeep(a);var i=[k.a.map(this.sp.evolve,(function(t,i){return{cost:t,name:"".concat(e.$t("common.promotion")).concat(i+1),index:i,check:a.evolve[i]}})),k.a.map(k.a.range(a.skills.normal[1],a.skills.normal[2]),(function(t){return{name:"".concat(e.$t("common.skill")," ").concat(t," -> ").concat(t+1),index:t,check:a.skills.normal[0],cost:e.sp.skills.normal[t-1]}}))].concat(Object(c["a"])(k.a.map(this.sp.skills.elite,(function(t,i){var s=t.cost,n=t.name;return k.a.map(k.a.range(a.skills.elite[i][1],a.skills.elite[i][2]),(function(t){return{name:"".concat(e.$t("skill.".concat(n))," ").concat(t," -> ").concat(t+1),index:t,check:a.skills.elite[i][0],cost:s[t-7]}}))}))));this.todoGroupList=k.a.map(i,(function(t){return k.a.map(k.a.filter(t,(function(t){return t.check})),(function(t){return k.a.merge(t,{finished:!1})}))})),this.$nextTick((function(){e.todoPresetDialog.open(),e.$mutation()}))},showNeeds:function(t){var e=this,a=[];return k.a.forIn(t,(function(t,i){return a.push({text:e.$t("material.".concat(i)),need:1*t,have:e.inputsInt[i].have})})),a},canFinished:function(t){var e=this;return k.a.every(t,(function(t,a){return e.inputsInt[a].have>=t}))},doFinished:function(t,e){var a=this;t.finished=!0;var i=function(e,a){var i=t.index+1;i>=e[2]?k.a.range(0,3).forEach((function(t){return e[t]=a[t]})):e[1]=i};0==e?this.pSetting.evolve[t.index]=!1:1==e?i(this.pSetting.skills.normal,J.skills.normal):i(this.pSetting.skills.elite[e-2],J.skills.elite[e-2]),k.a.forIn(t.cost,(function(t,e){a.inputs[e].have=(a.inputsInt[e].have-t).toString(),a.inputs[e].need=(a.inputsInt[e].need-t).toString()})),k.a.size(this.displayTodoGroup)?this.selected.presets[this.selectedPreset.index].setting=k.a.cloneDeep(this.pSetting):(this.selected.presets.splice(this.selectedPreset.index,1),this.todoPresetDialog.close()),this.usePreset()},resetSelectedRare:function(){this.selected.rare=k.a.concat([!1],k.a.fill(Array(this.rareNum-1),!0))},moraleText:function(t){var e=Math.floor(t/24),a=t%24;return"".concat(e," * 24")+(a?" + ".concat(a):"")}},created:function(){var t,e=this,a=Object(o["a"])(this.materialOrder);try{for(a.s();!(t=a.n()).done;){var i=t.value;this.$set(this.inputs,i,{need:"",have:""})}}catch(u){a.e(u)}finally{a.f()}for(var s in this.resetSelectedRare(),localStorage)if(s.startsWith("material.")){var n=s.split(".")[1];"inputs"===n&&(this.ignoreInputsChange=!0),this[n]=k.a.assign({},this[n],k.a.pick(JSON.parse(localStorage.getItem(s)),k.a.keys(this[n])))}for(var r in this.inputs){var l=this.inputs[r];for(var c in l)0==l[c]&&(l[c]="")}this.updatePreset(),this.throttleAutoSyncUpload=k.a.throttle((function(){return e.cloudSaveData(!0)}),5e3,{leading:!1,trailing:!0})},mounted:function(){var t=this;this.presetDialog=new this.$Dialog("#preset-setting",{history:!1}),this.$$("#preset-setting").on("closed.mdui.dialog",(function(){return t.selectedPresetName=""})),this.plannerDialog=new this.$Dialog("#planner",{history:!1}),this.$$("#planner").on("closed.mdui.dialog",(function(){return t.plannerRequest=!1})),this.dropDialog=new this.$Dialog("#drop-detail",{history:!1}),this.dataSyncDialog=new this.$Dialog("#data-sync",{history:!1}),this.todoPresetDialog=new this.$Dialog("#preset-todo",{history:!1}),this.$$("#preset-todo").on("closed.mdui.dialog",(function(){return t.selectedPresetName=""})),this.$root.materialListRendering&&setTimeout((function(){t.$root.materialListRendering=!1}),700)}},H=W,q=(a("5537"),Object(f["a"])(H,i,s,!1,null,null,null));e["default"]=q.exports},"3f7e":function(t,e,a){},5537:function(t,e,a){"use strict";var i=a("3f7e"),s=a.n(i);s.a},"5c6d":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return 1<=t.t&&t.t<=6?a("img",{staticClass:"no-pe item-t",attrs:{src:t.$root.materialImage("T"+t.t),crossorigin:"anonymous"}}):t._e()},s=[],n=(a("a9e3"),{name:"arkn-item-t",props:{t:[Number,String]}}),r=n,o=(a("e7a1"),a("2877")),l=Object(o["a"])(r,i,s,!1,null,"0b560d48",null);e["a"]=l.exports},8679:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"arkn-item no-sl mdui-m-r-1 mdui-valign"},[a("arkn-item-t",{attrs:{t:t.t}}),a("div",{staticClass:"mdui-valign item-img-div",style:"width:"+t.width+"px;height:"+t.width+"px"},[a("img",{staticClass:"no-pe item-img",style:"transform:scale("+t.scale+")",attrs:{src:t.$root.materialImage(t.img),crossorigin:"anonymous"}})])],1)},s=[],n=(a("a9e3"),a("5c6d")),r={name:"arkn-item",components:{ArknItemT:n["a"]},computed:{scale:function(){return this.width/180}},props:{t:[Number,String],img:String,width:{type:Number,default:48}}},o=r,l=(a("da3e"),a("2877")),c=Object(l["a"])(o,i,s,!1,null,"49a764eb",null);e["a"]=c.exports},9541:function(t,e,a){"use strict";var i=a("18a8"),s=a.n(i);s.a},a8b1:function(t,e,a){},ab3e:function(t,e,a){"use strict";a("d3b7"),a("ac1f"),a("5319"),a("1276");var i=a("5530"),s=a("c579"),n=a.n(s),r=a("60bb"),o=a.n(r),l=n.a.JQ.ajax,c=function(t){return new Promise((function(e,a){l(Object(i["a"])(Object(i["a"])({},t),{},{success:function(t){return e(t)},error:function(t,e){return a(e||"Network error")}}))}))};e["a"]={get:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return c({method:"GET",url:t,dataType:e?"json":"text"})},tagOCR:function(t){return new Promise((function(e,a){var i=new FileReader;i.onloadend=function(){return c({method:"POST",url:"https://arkn-api.lolicon.app/ocr",processData:!1,data:i.result.replace(/^data:.+;base64,/,""),dataType:"json",contentType:"text/plain"}).then(e).catch(a)},i.onerror=a,i.readAsDataURL(t)}))},ocrspace:function(t){var e=new FormData;return o.a.each(t,(function(t,a){return e.append(a,t)})),c({method:"POST",url:"https://api.ocr.space/parse/image",processData:!1,data:e,dataType:"json",contentType:!1,headers:{apikey:"helloworld"}})},createJson:function(t){return c({method:"POST",url:"https://jsonstorage.net/api/items",processData:!1,data:JSON.stringify(t),dataType:"json",contentType:"application/json"}).then((function(t){var e=t.uri;return o.a.last(e.split("/"))}))},getJson:function(t){return c({method:"GET",url:"https://jsonstorage.net/api/items/".concat(t),dataType:"json",contentType:"application/json"})},updateJson:function(t,e){return c({method:"PUT",url:"https://jsonstorage.net/api/items/".concat(t),processData:!1,data:JSON.stringify(e),dataType:"json",contentType:"application/json"})}}},b4ac:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"num-item"},[a("div",{staticClass:"mdui-valign"},[a("arkn-item",{attrs:{t:t.calcT,img:t.img,width:t.width}}),a("div",{staticClass:"with-label",class:t.color},[a("label",{staticClass:"mdui-textfield-label mdui-text-truncate"},[t._v(t._s(t.lable))]),"undefined"!=typeof t.num?a("span",[t._v(t._s(t.num))]):a("span",[t._t("default")],2)])],1)])},s=[],n=(a("a9e3"),a("ac1f"),a("8679")),r={name:"arkn-num-item",components:{ArknItem:n["a"]},computed:{calcT:function(){if(this.t)return this.t;var t=/-(.+)-/.exec(this.img);return!!t&&t[1]}},props:{t:[Number,String],img:String,lable:String,num:[Number,String],width:Number,color:[String,Boolean]}},o=r,l=(a("9541"),a("2877")),c=Object(l["a"])(o,i,s,!1,null,null,null);e["a"]=c.exports},da3e:function(t,e,a){"use strict";var i=a("a8b1"),s=a.n(i);s.a},e35a:function(t,e,a){},e7a1:function(t,e,a){"use strict";var i=a("e35a"),s=a.n(i);s.a}}]);